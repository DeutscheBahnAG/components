$code-background-color: dbx-background-color('secondary');

#rsg-root {
  .rsg--hasSidebar-2 {
    @media (min-width: 801px) {
      padding-left: 2 * dbx-spacing('xxxl');
    }
    @media (min-width: 1201px) {
      padding-left: 3 * dbx-spacing('xxxl');
    }
  }

  li[class^='rsg--item-'] {
    @include dbx-text-style('copy', 'm');
    overflow: visible;

    a {
      @include dbx-primary-link($text-color: dbx-text-color('primary'));
    }
  }

  div[class^='rsg--sidebar-'] {
    background: dbx-palette-color('violet100');
    background: dbx-background-color('secondary');
    border: 0;

    @media (min-width: 801px) {
      width: 2 * dbx-spacing('xxxl');
    }
    @media (min-width: 1201px) {
      width: 3 * dbx-spacing('xxxl');
    }
  }

  nav [class^='rsg--search'] {
    // Styleguidist doesnâ€™t know about our themes
    --dbx-primary-background-color: #{dbx-palette-color('coolgray100')};
    --dbx-secondary-background-color: #{dbx-palette-color('white')};
    @extend .dbx-textfield;
    @extend .dbx-textfield--m;
    margin: dbx-spacing('m');
    padding: 0;
  }

  [class^='rsg--heading-'] a {
    @include dbx-secondary-link;
  }

  h1[class^='rsg--heading-'] {
    @include dbx-text-style('title', 'xxl');
    color: dbx-text-color('primary');
    margin-bottom: dbx-spacing('m');
  }

  h2[class^='rsg--heading-'] {
    @include dbx-text-style('title', 'l');
    color: dbx-text-color('primary');
    margin-top: dbx-spacing('xl');
    margin-bottom: dbx-spacing('m');
  }

  h3[class^='rsg--heading-'] {
    @include dbx-text-style('title', 'm');
    color: dbx-text-color('primary');
    margin-top: dbx-spacing('l');
    margin-bottom: dbx-spacing('m');

    a {
      @include dbx-primary-link;
    }
  }

  h4[class^='rsg--heading-'] {
    @include dbx-text-style('copy', 'm');
    color: dbx-text-color('primary');
    font-weight: dbx-font-weight('copy', 'bold');
    margin-top: dbx-spacing('l');
    margin-bottom: dbx-spacing('m');
  }

  [class^='rsg--para-'],
  [class^='rsg--li-'] {
    @include dbx-text-style('copy', 'm');
    color: dbx-text-color('primary');
    margin-bottom: dbx-spacing('m');

    a {
      @include dbx-primary-link;
    }

    strong,
    em {
      font-family: inherit;
    }

    code {
      background: dbx-palette-color('blue100');
      border-radius: dbx-border-radius('xs');
      color: dbx-palette-color('blue700');
      font-family: monospace;
      font-size: 1.2em;
      padding: 2px 0.3em;
    }
  }

  [class^='rsg--li-'] {
    margin-bottom: dbx-spacing('s');
  }

  [class^='rsg--ul-'],
  [class^='rsg--ol-'] {
    margin-bottom: dbx-spacing('m');
  }

  [class^='rsg--spacing-34'] {
    margin: 0;
  }

  [class^='rsg--root-'] {
    overflow: visible !important;
  }

  [class^='rsg--preview-'] {
    background: linear-gradient(
        to top left,
        $code-background-color 12%,
        transparent 0,
        50%,
        $code-background-color 0,
        62%,
        transparent 0
      )
      repeat 0 0/4px 4px;
    background: var(--dbx-primary-background-color);
    border: 2px dbx-background-color('secondary') solid;
    border-radius: dbx-border-radius('l') dbx-border-radius('l') 0 0;

    + [class^='rsg--controls-'] {
      display: none;
    }

    ~ [class^='rsg--tab-'] [class^='rsg--root-'] {
      border: 0;
      border-radius: 0.1px 0.1px dbx-border-radius('l') dbx-border-radius('l');
    }
  }

  [class^='rsg--root-'] > textarea {
    background: $code-background-color !important;
    border-color: $code-background-color !important;
    @include dbx-focus-ring;
    border-radius: inherit;
    border-width: 1px;
    padding: dbx-spacing('sm') dbx-spacing('m') !important;
  }

  textarea + pre {
    background: $code-background-color;
    border-radius: dbx-border-radius('l');
    white-space: pre;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    padding: dbx-spacing('sm') dbx-spacing('m') !important;

    .token.script {
      color: dbx-palette-color('blue700');
    }

    .token.comment,
    .token.prolog,
    .token.doctype,
    .token.cdata,
    .token.punctuation {
      color: dbx-palette-color('coolgray400');
      font-weight: normal;
    }

    .token.number {
      color: dbx-palette-color('green600');
      font-weight: normal;
    }

    .token.property,
    .token.deleted {
      color: dbx-palette-color('cyan600');
      font-weight: normal;
    }

    .token.namespace,
    .token.constant {
      color: dbx-palette-color('blue700');
      font-weight: normal;
    }

    .token.string,
    .token.char,
    .token.attr-value {
      color: dbx-palette-color('lightgreen600');
      font-weight: normal;
    }

    .token.symbol,
    .token.selector,
    .token.attr-name,
    .token.builtin,
    .token.url,
    .token.inserted {
      color: dbx-palette-color('blue400');
      font-weight: normal;
    }

    .token.entity {
      color: dbx-palette-color('green400');
      font-weight: normal;
    }

    .token.tag,
    .token.atrule,
    .token.keyword,
    .token.boolean {
      color: dbx-palette-color('blue500');
      font-weight: bold;
    }

    .token.function {
      color: dbx-palette-color('turquoise600');
      font-weight: normal;
    }

    .token.regex,
    .token.important {
      color: dbx-palette-color('lightgreen500');
      font-weight: normal;
    }

    .token.variable {
      color: dbx-palette-color('violet600');
      font-weight: normal;
    }

    .token.important,
    .token.bold {
      font-weight: bold;
    }

    .token.italic {
      font-style: italic;
    }

    .token.interpolation-punctuation {
      color: dbx-palette-color('green400');
    }

    .token.operator,
    .token.title {
      color: dbx-palette-color('coolgray500');
    }
  }

  footer[class^='rsg--footer-'] {
    display: none;
  }
}

.space-inbetween div * + * {
  margin-left: dbx-spacing('m');
}

::selection {
  background: rgba(dbx-palette-color('blue500'), 0.15);
  text-shadow: none;
}

main.rsg--content-3 {
  max-width: 8 * dbx-spacing('xxxl');
  margin: 0 auto 0 dbx-spacing('xxxl');
  padding: 0;

  .dbx-container--filled {
    padding-bottom: dbx-spacing('m');
    padding-top: dbx-spacing('m');
  }

  .dbx-container:not(.dbx-container--filled) {
    background: rgba(dbx-palette-color('turquoise300'), 0.1);
    border: 1px dbx-palette-color('turquoise300') dashed;
    padding: 1px; // visually separate nested borders
  }

  .dbx-container--extended:not(.dbx-container--filled) {
    background: rgba(dbx-palette-color('yellow400'), 0.1);
    border-color: dbx-palette-color('yellow400');
  }

  .dbx-container--content:not(.dbx-container--filled) {
    background: rgba(dbx-palette-color('pink300'), 0.1);
    border-color: dbx-palette-color('pink300');
  }

  .dbx-container--text:not(.dbx-container--filled) {
    background: rgba(dbx-palette-color('cyan300'), 0.1);
    border-color: dbx-palette-color('cyan300');
  }

  .dbx-container--primary,
  .dbx-container--secondary {
    padding: 16px 0;
  }
}

.sg-icon-overview {
  display: grid;
  gap: dbx-spacing('ml');
  grid-template-columns: 1fr 1fr;
  width: 8 * dbx-spacing('xxxl');

  li {
    display: block;
  }
}

#rsg-root nav > ul {
  padding-left: 10px;

  > li[class^='rsg--item-'] {
    @include dbx-text-style('copy', 'l');
    color: var(--dbx-primary-text-color);
    font-family: dbx-font-family('title');
    font-weight: dbx-font-weight('title', 'bold');
    text-decoration: none;
    display: block;
    padding: #{dbx-spacing('sm') / 2} dbx-spacing('m');
    transition: color 0.15s ease-in;
    li {
      @include dbx-text-style('copy', 's');
      font-weight: normal;
    }
  }
}

.rsg--pathline-29 {
  display: none;
}

#rsg-root .rsg--button-31 {
  @extend .dbx-button--solid;
  @extend .dbx-button--s;
  text-transform: none;
}

.rsg--heading1-21,
.rsg--logo-5 {
  display: none;
}

// Tables
#rsg-root [class^='rsg--table'] {
  margin: dbx-spacing('m') 0 dbx-spacing('l');

  [class^='rsg--cellHeading'] {
    @include dbx-text-style('copy', 's');
    color: var(--dbx-secondary-text-color);
  }

  [class^='rsg--name'],
  [class^='rsg--type'],
  [class^='rsg--code'],
  [class^='rsg--text'] {
    @include dbx-text-style('copy', 'm');
    background: transparent;
    padding: 0;
  }

  [class^='rsg--name'] {
    color: dbx-palette-color('lightgreen600');
  }

  [class^='rsg--type'] {
    color: dbx-palette-color('blue400');
  }

  [class^='rsg--code'] {
    color: var(--dbx-secondary-text-color);
  }
}

#rsg-root [data-testid='Button-isolate-button'] {
  @extend .dbx-button--hover-only;
  @extend .dbx-button--round;
  @extend .dbx-button--m;
}
